import { Dice } from "@/src/types";
import { DotLoader } from "react-spinners";

type Props = {
	dice?: Dice;
	width?: number;
	height?: number;
};

export default function D20({ dice, height = 300, width = 300 }: Props) {
	const colorDice: Dice = !dice ? { id: 0, primary: "red", secondary: "red", symbols: "white", value: 20, empty: false } : dice;

	const { primary, secondary, symbols } = colorDice;

	return (
		<div className="flex justify-center w-72">
			{colorDice.rolling && (
				<div className="w-0">
					<DotLoader className="absolute top-24 left-28" color="white" />
				</div>
			)}
			<svg id="D20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500" width={width} height={height}>
				<g>
					<polygon
						points="250 9.66 41.91 129.8 41.91 370.09 250 490.23 458.09 370.09 458.09 129.8 250 9.66"
						fill="none"
						stroke={symbols}
						strokeMiterlimit={10}
					/>
					<g id="AbajoDer">
						<polygon points="365.07 307.41 457.32 369.96 251.11 488.9 365.07 307.41" fill={secondary} />
						<path
							d="m365.21,308.12l91.16,61.81-203.77,117.54,62.95-100.25,49.66-79.09m-.3-1.41c-38.44,61.21-76.87,122.42-115.31,183.63,69.55-40.12,139.1-80.23,208.65-120.35-31.11-21.1-62.23-42.19-93.34-63.29h0Z"
							fill={symbols}
						/>
					</g>
					<g id="AbajoIzq">
						<polygon points="42.83 369.59 129.34 307.42 248.04 488.85 42.83 369.59" fill={secondary} />
						<path
							d="m129.21,308.13l117.26,179.23-154.15-89.59-48.57-28.22,42.53-30.56,42.93-30.85m.26-1.42c-29.19,20.98-58.38,41.95-87.56,62.93,69.23,40.24,138.47,80.47,207.7,120.71-40.05-61.21-80.09-122.42-120.14-183.63h0Z"
							fill={symbols}
						/>
					</g>
					<g id="AbajoCentro">
						<polygon points="130.43 307.21 364.01 307.21 249.6 489.41 130.43 307.21" fill={secondary} />
						<path
							d="m363.11,307.71l-113.52,180.78-118.24-180.78h231.75m1.81-1h-235.41c40.03,61.21,80.07,122.42,120.1,183.63,38.44-61.21,76.87-122.42,115.31-183.63h0Z"
							fill={symbols}
						/>
					</g>
					<g id="ArribaIzq">
						<polygon points="249.5 10.53 249.5 99.42 44.41 129.46 249.5 10.53" fill={secondary} />
						<path
							d="m249,11.4v87.59l-29.62,4.34-172.47,25.26,39.21-22.74L249,11.4m1-1.74C180.64,49.88,111.27,90.11,41.91,130.33c69.36-10.16,138.73-20.32,208.09-30.48V9.66h0Z"
							fill={symbols}
						/>
					</g>
					<g id="ArribaDer">
						<polygon points="250.38 99.42 250.38 10.53 455.47 129.46 250.38 99.42" fill={secondary} />
						<path
							d="m250.88,11.4l202.09,117.19-202.09-29.6V11.4m-1-1.74v90.19c69.36,10.16,138.73,20.32,208.09,30.48-69.36-40.22-138.73-80.45-208.09-120.67h0Z"
							fill={symbols}
						/>
					</g>
					<g id="Der1">
						<polygon points="365.57 306.54 457.31 132.35 457.75 369.05 365.57 306.54" fill={secondary} />
						<path
							d="m456.82,134.36l.22,115.8.22,117.94-91.03-61.72,90.6-172.02m.99-4.03c-30.96,58.79-61.93,117.58-92.89,176.37,31.11,21.1,62.23,42.19,93.34,63.29-.15-79.89-.3-159.78-.45-239.66h0Z"
							fill={symbols}
						/>
					</g>
					<g id="Der2">
						<polygon points="250.93 100.49 457.08 129.67 364.91 305.65 250.93 100.49" fill={secondary} />
						<path
							d="m251.85,101.12l60.43,8.55,144.03,20.39-69.61,132.9-21.81,41.64-56.56-101.81-56.48-101.67m-1.85-1.27c38.31,68.95,76.61,137.9,114.92,206.85,30.98-59.14,61.96-118.29,92.93-177.43-69.28-9.81-138.57-19.61-207.85-29.42h0Z"
							fill={symbols}
						/>
					</g>
					<g id="Izq2">
						<polygon points="42.66 130.73 249.05 100.5 129.54 305.65 42.66 130.73" fill={secondary} />
						<path
							d="m248.09,101.14l-118.51,203.46-42.98-86.53-43.19-86.95,204.67-29.98m1.91-1.29c-69.36,10.16-138.73,20.32-208.09,30.48,29.2,58.79,58.4,117.58,87.6,176.38l120.49-206.85h0Z"
							fill={symbols}
						/>
					</g>
					<g id="Izq1">
						<polygon points="42.41 132.46 128.84 306.55 42.41 368.66 42.41 132.46" fill={secondary} />
						<path d="m42.91,134.59l85.29,171.8-85.29,61.29v-233.09m-1-4.26v239.3l87.56-62.93L41.91,130.33h0Z" fill={symbols} />
					</g>
					<g id="Centro">
						<polygon points="130.38 306.21 249.99 100.86 364.07 306.21 130.38 306.21" fill={primary} />
						<path d="m249.98,101.88l113.24,203.83h-231.97l118.73-203.83m.02-2.02l-120.49,206.85h235.41l-114.92-206.85h0Z" fill={symbols} />
					</g>
				</g>
				<g>
					<path
						d="m157.71,144.79c7.65,9.31,9.6,19.16,5.66,24.15-2.35,2.97-7.81,5.51-11.08,3.18-2.72-1.94-3.55-7-.95-11.73.99-1.8-5.23,6.98-12.44,9.2-4.69,1.44-9.14-.08-13.4-1.88-17.21-7.26-39.75-22.48-44.88-25.98,2.93,2.07,27.55,19.51,42.1,32.04,2.54,2.19,6.04,5.32,6.75,10.07,1.09,7.33-4.89,16.65-3.63,15.04,3.34-4.24,8.32-5.45,11.17-3.7,3.43,2.1,3.21,8.13,1.39,11.44-3.06,5.58-12.9,7.62-24.45,4.2,4.74,9.18,15.05,13.96,24.78,11.66,10.45-2.47,16.66-12.26,16.81-20.58.05-2.81-.55-8.55-10.79-18.2,12.87,5.68,18.39,3.99,20.97,2.85,7.61-3.38,14.2-12.92,12.4-23.5-1.67-9.85-10.1-17.49-20.4-18.28Z"
						fill={symbols}
						stroke={symbols}
						strokeMiterlimit={10}
					/>
					<path
						d="m376.15,212.74c-11.87,2.05-21.4-1.11-23.8-7.01-1.42-3.51-.94-9.51,2.71-11.21,3.04-1.41,7.84.37,10.67,4.97,1.08,1.75-3.49-8-1.86-15.36,1.06-4.79,4.58-7.91,8.25-10.73,14.81-11.38,39.17-23.46,44.76-26.2-3.25,1.53-30.57,14.32-48.65,20.78-3.15,1.13-7.6,2.63-12.09.89-6.91-2.67-12.06-12.48-11.29-10.58,2.03,5,.63,9.93-2.3,11.54-3.52,1.94-8.65-1.22-10.64-4.44-3.34-5.41-.25-14.98,8.42-23.33-10.33-.41-19.57,6.2-22.38,15.79-3.01,10.3,2.43,20.54,9.59,24.78,2.42,1.43,7.71,3.75,21.15-.4-11.29,8.39-12.55,14.02-12.83,16.83-.82,8.28,4.22,18.73,14.31,22.39,9.4,3.41,20.19-.14,25.97-8.71Z"
						fill={symbols}
						stroke={symbols}
						strokeMiterlimit={10}
					/>
					<path
						d="m210,376.17c3.53-11.51,10.67-18.59,17.01-18.06,3.77.32,8.91,3.46,8.77,7.48-.12,3.35-3.88,6.83-9.25,7.27-2.05.17,8.71.51,14.54,5.29,3.79,3.11,4.98,7.66,5.84,12.21,3.46,18.35,3.22,45.55,3.14,51.77.11-3.59,1.04-33.74,3.45-52.79.42-3.32,1.1-7.97,4.67-11.19,5.5-4.96,16.58-5.12,14.54-5.29-5.38-.45-9.14-3.93-9.25-7.27-.14-4.02,5-7.16,8.77-7.48,6.34-.53,13.47,6.54,17.01,18.06,5.03-9.02,3.32-20.26-3.97-27.1-7.83-7.34-19.42-7.12-26.44-2.64-2.37,1.51-6.83,5.18-9.21,19.05-2.38-13.87-6.83-17.54-9.21-19.05-7.02-4.47-18.61-4.7-26.44,2.64-7.29,6.84-9,18.08-3.97,27.1Z"
						fill={symbols}
						stroke={symbols}
						strokeMiterlimit={10}
					/>
					<path
						d="m64.7,223.07c-.96-.25-11.76,24.97-8.91,57.5,1.81,20.62,7.45,25.33,10.23,27.1,7.02,4.47,18.61,4.7,26.44-2.64,7.29-6.84,9-18.08,3.97-27.1-3.53,11.51-10.67,18.59-17.01,18.06-3.77-.32-8.91-3.46-8.77-7.48.12-3.35,3.88-6.83,9.25-7.27-4.47-.21-10.19-1.27-14.54-5.29-15.42-14.25.53-52.57-.66-52.88Z"
						fill={symbols}
						stroke={symbols}
						strokeMiterlimit={10}
					/>
					<path
						d="m180.88,426.91c-.32.94-27.35-3.73-53.08-23.84-16.31-12.74-17.19-20.04-17.17-23.34.07-8.32,6.19-18.17,16.61-20.74,9.71-2.39,20.06,2.29,24.89,11.43-11.58-3.3-21.4-1.17-24.41,4.44-1.79,3.34-1.95,9.36,1.5,11.43,2.87,1.72,7.84.47,11.14-3.8-2.26,3.86-4.48,9.24-3.48,15.08,3.55,20.69,44.39,28.18,44,29.34Z"
						fill={symbols}
						stroke={symbols}
						strokeMiterlimit={10}
					/>
					<path
						d="m311.34,426.91c.32.94,27.35-3.73,53.08-23.84,16.31-12.74,17.19-20.04,17.17-23.34-.07-8.32-6.19-18.17-16.61-20.74-9.71-2.39-20.06,2.29-24.89,11.43,11.58-3.3,21.4-1.17,24.41,4.44,1.79,3.34,1.95,9.36-1.5,11.43-2.87,1.72-7.84.47-11.14-3.8,2.26,3.86,4.48,9.24,3.48,15.08-3.55,20.69-44.39,28.18-44,29.34Z"
						fill={symbols}
						stroke={symbols}
						strokeMiterlimit={10}
					/>
					<path
						d="m151.74,86.37c.02.78,21.23,3.51,45.02-5.56,15.07-5.74,17.41-10.98,18.15-13.44,1.86-6.22-.44-14.96-7.61-19.26-6.68-4.01-15.47-2.9-21.17,2.79,9.39.2,16.21,4.04,17.16,8.91.56,2.9-.7,7.42-3.74,8.17-2.53.63-5.94-1.45-7.42-5.39.8,3.4,1.22,7.91-.87,12.03-7.4,14.6-39.54,10.79-39.51,11.75Z"
						fill={symbols}
						stroke={symbols}
						strokeMiterlimit={10}
					/>
					<path
						d="m346.46,86.37c-.02.78-21.23,3.51-45.02-5.56-15.07-5.74-17.41-10.98-18.15-13.44-1.86-6.22.44-14.96,7.61-19.26,6.68-4.01,15.47-2.9,21.17,2.79-9.39.2-16.21,4.04-17.16,8.91-.56,2.9.7,7.42,3.74,8.17,2.53.63,5.94-1.45,7.42-5.39-.8,3.4-1.22,7.91.87,12.03,7.4,14.6,39.54,10.79,39.51,11.75Z"
						fill={symbols}
						stroke={symbols}
						strokeMiterlimit={10}
					/>
					<path
						d="m435.85,223.07c.96-.25,11.76,24.97,8.91,57.5-1.81,20.62-7.45,25.33-10.23,27.1-7.02,4.47-18.61,4.7-26.44-2.64-7.29-6.84-9-18.08-3.97-27.1,3.53,11.51,10.67,18.59,17.01,18.06,3.77-.32,8.91-3.46,8.77-7.48-.12-3.35-3.88-6.83-9.25-7.27,4.47-.21,10.19-1.27,14.54-5.29,15.42-14.25-.53-52.57.66-52.88Z"
						fill={symbols}
						stroke={symbols}
						strokeMiterlimit={10}
					/>
				</g>
				<g y={280}>
					{!colorDice.empty && (
						<text y="280" x={colorDice.value === 20 ? 190 : 215} fill={symbols} fontSize={105}>
							{colorDice.value}
						</text>
					)}
				</g>
			</svg>
		</div>
	);
}
